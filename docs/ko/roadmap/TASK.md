# rulesctl 개발 로드맵

## 작업 기준
본 문서는 각 작업 단계를 **1시간 이내**에 완료할 수 있도록 세분화했습니다. 이는 작업의 진행 상황을 측정하고 관리하기 위한 기준입니다.

---

# 1차 마일스톤: 기본 기능 구현

## 0. 기획 및 구현 방법 검토 (2시간)

### 0-1. 기획 문서 검토 및 정리 (1시간)
- [x] GIST 구조화 저장 방식 검토 - 각 규칙 세트를 별도의 GIST로 관리
- [x] meta.json 스키마 검토 - 기본적인 파일 구조와 MD5 해시만 포함
- [x] 파일 충돌 방지 전략 검토 - force/skip 옵션으로 단순화

### 0-2. 구현 방법 문서화 (1시간)
- [x] 구현 가이드 문서 작성 - CLI 구조와 핵심 명령어 정의
- [x] API 설계 문서 작성 - GitHub Gist API 연동 방식 정의
- [x] 데이터 구조 문서 작성 - meta.json 스키마와 파일 구조 정의
- [x] 에러 처리 전략 문서화 - force/skip 옵션 처리 방식 정의

## 1. 프로젝트 초기 설정 (2시간)

### 1-1. 개발 환경 구성 (1시간)
- [x] Go 프로젝트 초기화 (go.mod, go.sum)
- [x] Cobra 패키지 설치 및 기본 CLI 구조 설정
- [x] 디렉토리 구조 생성 (cmd, internal, pkg 등)
- [x] .gitignore 설정

### 1-2. 기본 명령어 구조 설정 (1시간)
- [x] root.go 작성 (기본 명령어 설정)
- [x] 기본 플래그 및 전역 옵션 설정
- [x] 버전 정보 명령어 구현
- [x] 테스트 실행 및 기본 기능 확인
- [x] init 명령어 개선 - 기본 디렉토리 생성과 샘플 파일 생성 분리 (--sample 플래그 추가)

## 2. 설정 및 인증 (3시간)

### 2-1. 설정 파일 관리 (1시간)
- [x] 설정 디렉토리 생성 로직 구현 (~/.rulesctl)
- [x] 설정 파일 저장 및 로드 기능 구현
- [x] 테스트 작성

### 2-2. GitHub API 클라이언트 구현 (1시간)
- [x] GitHub API 클라이언트 기본 구조 구현
- [x] 토큰 인증 메커니즘 구현
- [x] API 요청 기본 래퍼 함수 작성

### 2-3. auth 명령어 구현 (1시간)
- [x] auth 명령어 구현 (cmd/auth.go)
- [x] 토큰 입력 및 검증 로직
- [x] 토큰 저장 기능
- [x] 테스트 및 통합 확인
- [x] 토큰 입력 마스킹 기능 추가
- [x] .env.local 파일을 통한 테스트 토큰 관리 기능 추가

## 3. Gist 핵심 기능 (5시간)

### 3-1. Gist 목록 조회 기능 (1시간)
- [x] list 명령어 구현 (cmd/list.go)
- [x] Gist API 연동 및 목록 조회
- [x] 출력 포맷 구현 (테이블, JSON 등)
- [x] 테스트 작성
- [x] .env.local 파일을 통한 테스트 환경 구성
- [x] 출력 형식 개선 (고정 폭, 말줄임표 처리)
- [x] Gist ID 표시 추가
- [x] 최근 1달 이내의 Gist만 표시하도록 수정
- [x] .rulesctl.meta.json 파일이 있는 Gist만 필터링

### 3-2. 파일 시스템 유틸리티 (1시간)
- [x] .cursor/rules 디렉토리 관리 함수 구현
- [x] 파일 탐색 및 목록화 기능
- [x] 경로 처리 유틸리티 함수
- [x] 테스트 작성

### 3-3. 규칙 업로드 기능 (1시간)
- [x] upload 명령어 구현 (cmd/upload.go)
- [x] 로컬 규칙 파일 수집 로직
- [x] Gist 생성/업데이트 API 연동
- [x] 테스트 작성
- [x] 메타데이터 미리보기 기능 추가 (--preview)
- [x] 파일이 없는 경우 적절한 안내 메시지 출력

### 3-4. 규칙 다운로드 기능 (1시간)
- [x] download 명령어 구현 (cmd/download.go)
- [x] Gist에서 파일 다운로드 로직
- [x] 로컬 파일 구조 유지 기능
- [x] 충돌 처리 로직
- [x] 테스트 작성
- [x] 제목으로 다운로드 기능 추가
- [x] Gist ID로 다운로드 기능 추가 (공개 Gist 지원)

### 3-5. 규칙 삭제 기능 (1시간)
- [x] delete 명령어 구현 (cmd/delete.go)
- [x] Gist 삭제 API 연동
- [x] 확인 프롬프트 구현
- [x] 제목으로 검색하여 삭제하는 기능 구현
- [x] --force 옵션으로 확인 없이 삭제하는 기능 구현
- [x] 테스트 작성

## 4. 수동 릴리즈 및 NPM 배포 (3시간)

### 4-1. goreleaser 설정 및 빌드 (1시간)
- [x] goreleaser 설정 파일 작성
- [x] 크로스 플랫폼 빌드 테스트
- [x] 빌드 스크립트 작성
- [x] GitHub 릴리즈 생성
- [x] 수동 릴리즈 프로세스 문서화

### 4-2. NPM 패키지 구조 설정 (1시간)
- [x] npm 프로젝트 초기화
- [x] package.json 구성
- [x] 바이너리 설치 스크립트 작성
- [x] README 및 라이선스 파일 준비

### 4-3. NPM 패키지 배포 (1시간)
- [x] 패키지 배포 테스트 (npm pack)
- [x] 로컬 설치 테스트
- [x] NPM 레지스트리 배포
- [x] 설치 및 실행 테스트

## 5. 테스트 및 문서화 (3시간)

### 5-1. 테스트 코드 작성 (1시간)
- [x] 단위 테스트 작성
- [x] 통합 테스트 작성
- [x] 테스트 자동화 스크립트 작성

### 5-2. 문서화 (1시간)
- [x] README.md 작성
- [x] API 문서 작성
- [x] 개발 가이드 작성

### 5-3. 테스트 환경 설정 (1시간)
- [x] 테스트 환경 구성 문서화
- [x] CI 설정 파일 작성
- [x] 테스트 데이터 준비

## 6. 문서화 및 마무리 (3시간)

### 6-1. 사용자 문서 작성 (1시간)
- [x] README.md 완성
- [x] 설치 및 사용 방법 문서화
- [x] 예제 및 스크린샷 추가
- [x] 토큰 설정 방법 개선 (환경 변수 사용 방법 추가)

### 6-2. 개발자 문서 작성 (1시간)
- [x] 개발자 가이드 완성 (GET-STARTED.md)
- [x] API 문서 작성
- [x] 기여 가이드라인 작성
- [x] 테스트 환경 설정 문서 추가
- [x] 토큰 설정 관련 개발자 문서 정리

### 6-3. 문서 다국어화 (1시간)
- [x] 문서 디렉토리 구조 재구성
- [x] 영어 버전을 기본으로 설정
- [x] 한국어 버전 문서 생성 (_ko.md)
- [x] 문서 간 상호 참조 링크 업데이트
- [x] 다국어 문서 관리 가이드라인 작성

## 7. 사용자 경험 개선 (3시간)

### 7-1. 에러 처리 및 로깅 (1시간)
- [ ] 일관된 에러 처리 메커니즘 구현
- [ ] 로깅 시스템 구현
- [ ] 사용자 친화적 오류 메시지
- [ ] 디버그 모드 구현

### 7-2. 진행 상황 표시 및 프롬프트 (1시간)
- [ ] 진행 상황 표시 (프로그레스 바 등)
- [ ] 대화형 프롬프트 구현
- [ ] 컬러 출력 지원
- [x] 테이블 형식 출력 개선
- [x] list 명령어에 --detail 플래그 추가 (revision 정보 표시)

### 7-3. 사용법 및 도움말 개선 (1시간)
- [ ] 각 명령어 도움말 개선
- [ ] 예제 및 사용법 추가
- [ ] 자동 완성 스크립트 생성
- [ ] man 페이지 지원

## 8. 배포 자동화 (2시간)

### 8-1. GitHub Actions 워크플로우 설정 (1시간)
- [ ] 테스트 자동화 워크플로우 작성
- [ ] goreleaser 자동 빌드 워크플로우 작성
- [ ] NPM 자동 배포 워크플로우 작성

### 8-2. 자동화 테스트 및 문서화 (1시간)
- [ ] 전체 자동화 프로세스 테스트
- [ ] CI/CD 파이프라인 문서화
- [ ] 트러블슈팅 가이드 작성

---

# 2차 마일스톤 계획 (향후 작업)

## 고려 중인 기능
- 규칙 검색 기능
- 규칙 공유 및 팀 협업 기능
- 규칙 버전 관리 기능
- 웹 인터페이스 개발
- 규칙 템플릿 및 스캐폴딩 기능
- Gist revision 지정 다운로드 기능
  - 특정 revision의 규칙 세트를 다운로드하는 기능
  - `--revision` 플래그를 통해 특정 버전 지정 가능
  - revision 히스토리 조회 기능 추가
